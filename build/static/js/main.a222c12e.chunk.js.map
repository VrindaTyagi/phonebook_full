{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/personDB.js","components/Notifications.js","App.js","index.js"],"names":["Filter","props","type","onChange","PersonForm","onSubmit","name","Persons","showAll","persons","map","item","toLowerCase","includes","filteredName","className","number","onClick","handleDeletePerson","id","baseURL","axios","get","then","response","data","newObject","post","delete","put","Notification","message","status","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setShowAll","setFilter","errorMessage","setErrorMessage","setStatus","useEffect","personDB","initialPersons","event","preventDefault","target","value","some","person","Number","checkDuplicates","setTimeout","window","confirm","find","x","updatedPerson","catch","error","returnedName","concat","filter","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a222c12e.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = (props) => {\r\n  return (\r\n    <div>\r\n        Filter shown with \r\n      <input type=\"text\" onChange={props.onChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = (props) => {\r\n  return (\r\n    <div>\r\n      <form onSubmit={props.onSubmit}>\r\n        Name: \r\n        <input onChange={props.onChange} type=\"text\" name=\"name\" />\r\n                  \r\n        <br />\r\n         Number: \r\n        <input onChange={props.onChange} type=\"number\" name=\"number\" />\r\n        <button type=\"submit\">add</button>\r\n            \r\n      </form>\r\n          \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Persons = (props) => {\r\n  \r\n  return (\r\n    <div>\r\n      <ul type=\"none\">\r\n        {props.showAll &&\r\n          props.persons &&\r\n          props.persons.map((item) => {\r\n            if (item.name.toLowerCase().includes(props.filteredName))\r\n              return (\r\n                <div>\r\n                <li className=\"person\" key={item.name}>\r\n                \r\n                  {item.name} {item.number}  <span> <button  onClick={props.handleDeletePerson(item.id,item.name)} type=\"submit\">delete</button> </span>\r\n                </li>  \r\n                </div>\r\n              );\r\n            return <> </>;\r\n          })}\r\n              \r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nimport axios from \"axios\";\r\nconst baseURL = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseURL);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseURL, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseURL}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseURL}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default {\r\n  getAll: getAll,\r\n  create: create,\r\n  deletePerson: deletePerson,\r\n  update: update,\r\n};\r\n","import React from 'react'\r\nconst Notification = ({ message , status }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    if(status === false)\r\n     {return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )}\r\n    else\r\n    {\r\n    return (\r\n        <div className=\"success\">\r\n          {message}\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  export default Notification;","import React, { useEffect, useState } from \"react\";\r\nimport Filter from \"./components/Filter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Persons from \"./components/Persons\";\r\nimport personDB from \"./services/personDB\";\r\nimport Notification from \"./components/Notifications\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [showAll, setShowAll] = useState(true);\r\n  const [filteredName, setFilter] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n  const [status, setStatus] = useState(false);\r\n\r\n  useEffect(() => {\r\n    personDB.getAll().then((initialPersons) => {\r\n      setPersons(initialPersons);\r\n    });\r\n  }, []);\r\n\r\n  const handleSearch = (event) => {\r\n    event.preventDefault();\r\n    setFilter(event.target.value.toLowerCase());\r\n    setShowAll(true);\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    event.preventDefault();\r\n    if (event.target.name === \"name\") {\r\n      setNewName(event.target.value);\r\n    } else {\r\n      setNewNumber(event.target.value);\r\n    }\r\n  };\r\n\r\n  const checkDuplicates = (persons, newName, newNumber) => {\r\n    if (\r\n      persons.some(\r\n        (person) =>\r\n          person.name === newName && person.number === Number(newNumber)\r\n      )\r\n    )\r\n      return true;\r\n\r\n    return false;\r\n  };\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (checkDuplicates(persons, newName, newNumber)) {\r\n      setStatus(true);\r\n      setErrorMessage(`${newName}  is already added to phonebook`);\r\n      setTimeout(() => {\r\n        setErrorMessage(null);\r\n      }, 5000);\r\n    } else if (\r\n      persons.some(\r\n        (person) =>\r\n          person.name === newName && person.number !== Number(newNumber)\r\n      )\r\n    ) {\r\n      if (\r\n        window.confirm(\r\n          `${newName}  is already added to phonebook, do u want to replace its number?`\r\n        )\r\n      ) {\r\n        const p = persons.find((x) => x.name === newName);\r\n        const id = p.id;\r\n\r\n        const newPerson = { name: newName, number: newNumber };\r\n        personDB\r\n          .update(id, newPerson)\r\n          .then((updatedPerson) =>\r\n            setPersons(persons.map((x) => (x.id === id ? updatedPerson : x)))\r\n          )\r\n          .catch((error) => {\r\n            setStatus(false);\r\n            setErrorMessage(`That name is already added to phonebook`);\r\n            setTimeout(() => {\r\n              setErrorMessage(null);\r\n            }, 5000);\r\n          });\r\n      }\r\n    } else {\r\n      const newObject = { name: newName, number: newNumber };\r\n      personDB\r\n        .create(newObject)\r\n        .then((returnedName) => {\r\n          setPersons(persons.concat(returnedName));\r\n          setStatus(true);\r\n          setErrorMessage(`Added name`);\r\n        })\r\n        .catch((error) => {\r\n          setStatus(false);\r\n          setErrorMessage(`${error.response.data.error}`);\r\n        });\r\n      setTimeout(() => {\r\n        setErrorMessage(null);\r\n      }, 3000);\r\n    }\r\n  };\r\n\r\n  const handleDeletePerson = (id, name) => {\r\n    return () => {\r\n      if (window.confirm(`Do you want to Delete ${name} ?`)) {\r\n        personDB\r\n          .deletePerson(id)\r\n          .then(() => {\r\n            setPersons(persons.filter((n) => n.id !== id));\r\n            setStatus(true);\r\n            setErrorMessage(`Deleted ${name}`);\r\n            setTimeout(() => {\r\n              setErrorMessage(null);\r\n            }, 5000);\r\n          })\r\n          .catch((error) => {\r\n            setStatus(false);\r\n            setErrorMessage(`'${name}' cannot be Deleted.`);\r\n            setTimeout(() => {\r\n              setErrorMessage(null);\r\n            }, 5000);\r\n          });\r\n      }\r\n    };\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={errorMessage} status={status} />\r\n                <h2>Phonebook</h2>\r\n      <Filter onChange={handleSearch} />\r\n              <h2>Add a new</h2>\r\n      <PersonForm onSubmit={addName} onChange={handleChange} />\r\n                   <h2>Numbers</h2>\r\n            \r\n      <Persons\r\n        showAll={showAll}\r\n        filteredName={filteredName}\r\n        persons={persons}\r\n        handleDeletePerson={handleDeletePerson}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport './index.css';\n\n\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}